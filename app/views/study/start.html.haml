- content_for :head do
  %style{:type => "text/css"}
    :sass
      .card
        :display none

  :javascript
    var flashCards;
    var studying = Studying({
      getCardsUrl:'#{study_path(@user.id, :cards, :date => "today")}'
      ,spinnerDom:'#thespinner'
      ,cardDom:'.card'
      ,questionContainerDom:'.question-container'
      ,questionDom:'.question'
      ,answerContainerDom:'.answer-container'
      ,answerDom:'.answer'
    });
    $(document).ready(function() { 
      studying.loadCards();
      $('a#showAnswer').click(function() {
        studying.showAnswer();
        return false;
      });
      $('a.qualityOfRecall').click(function(element) {
        alert($(this).attr('ref'));
        studying.processQualityOfRecall();
        studying.studyNextCard();
        return false;
      });
    });
  

%ul.actions
  %li= link_to 'Study schedule (iCal)', study_url(@user.id, 'schedule', :protocol => 'webcal')


#thespinner
  = image_tag 'branding/spinner.gif'

.card
  .question-container
    .question
    .button-bar
      %ul.actions
        %li= link_to 'Show answer', '', {:id => 'showAnswer'}
  .answer-container
    .answer
    .button-bar
      %ul.actions
        %li= link_to '1', '', {:class => 'qualityOfRecall', :ref => 1}
        %li= link_to '2', '', {:class => 'qualityOfRecall', :ref => 2}
        %li= link_to '3', '', {:class => 'qualityOfRecall', :ref => 3}
        %li= link_to '4', '', {:class => 'qualityOfRecall', :ref => 4}
        %li= link_to '5', '', {:class => 'qualityOfRecall', :ref => 5}
        %li= link_to '6', '', {:class => 'qualityOfRecall', :ref => 6}
  